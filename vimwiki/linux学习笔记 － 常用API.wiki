%toc 目录
----

=== smp_processor_id() ===
{{{
获取当前在哪个CPU上
}}}

=== ioremap_nocache ===
{{{
phys_addr_t phy_sec_debug_log_struct = 0x86A00000;
/* we should meet to align to 1M regarding for  size */
size_t phy_sec_debug_log_struct_size = 0x100000;
static void map_noncached_sched_log_buf(void)
{
    void __iomem *base=0;

    base = ioremap_nocache(phy_sec_debug_log_struct ,phy_sec_debug_log_struct_size );
    psec_debug_log = base;
}

void __sec_debug_task_log(int cpu, struct task_struct *task)
{
    unsigned i;

    i = atomic_inc_return(&task_log_idx[cpu]) & (SCHED_LOG_MAX - 1);
    psec_debug_log->task[cpu][i].time = cpu_clock(cpu);
    strcpy(psec_debug_log->task[cpu][i].comm, task->comm);
    psec_debug_log->task[cpu][i].pid = task->pid;
}
}}}

=== time ===
==== local_clock ====
{{{
u64 local_clock(void)
}}}

==== ktime_get ====
{{{
ktime_t ktime_get(void)
}}}

